<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"/>
    <title>BAFs | Exam Time</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <script>
        // Run early to prevent a flash of the wrong theme.
        (function() {
            const savedTheme = localStorage.getItem('theme') || 'dark';
            document.documentElement.setAttribute('data-theme', savedTheme);
        })();
    </script>

    <style>
        /* üé® --- Color & Theme Variables --- üé® */
        :root, [data-theme="light"] {
            --primary-accent: #8f00ff;
            --primary-gradient: linear-gradient(135deg, #b84fff, #8f00ff);
            --font-family: 'Inter', sans-serif;
            --bg-main: #f4f5f9;
            --bg-card: #ffffff;
            --text-primary: #121212;
            --text-secondary: #5f5f5f;
            --border-color: #e0e0e0;
            --shadow: 0 4px 20px rgba(0, 0, 0, 0.06);
            --header-bg: rgba(255, 255, 255, 0.7);
        }

        [data-theme="dark"] {
            --primary-accent: #b84fff;
            --primary-gradient: linear-gradient(135deg, #b84fff, #8f00ff);
            --bg-main: #121212;
            --bg-card: #1e1e2e;
            --text-primary: #f0f0f0;
            --text-secondary: #a0a0b0;
            --border-color: #3a3a5a;
            --shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
            --header-bg: rgba(30, 30, 46, 0.7);
        }

        /* üß± --- Base & Layout Styles --- üß± */
        * { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; }
        body {
            font-family: var(--font-family);
            background-color: var(--bg-main);
            color: var(--text-primary);
            transition: background-color 0.3s, color 0.3s;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 16px;
        }

        /* üîù --- Header --- üîù */
        .top-bar {
            display: flex; justify-content: space-between; align-items: center;
            padding: 12px 16px; background: var(--header-bg);
            backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--border-color);
            position: sticky; top: 0; z-index: 100;
        }
        .top-bar h1 {
            font-size: 20px;
            font-weight: 700;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .theme-toggle {
            background: none; border: none; cursor: pointer; color: var(--text-primary);
            padding: 8px; border-radius: 50%; display: flex; align-items: center; justify-content: center;
        }
        .theme-toggle:hover { background-color: rgba(128,128,128,0.1); }

        /* üÉè --- Card Styles --- üÉè */
        .card {
            background-color: var(--bg-card);
            border-radius: 16px;
            padding: 24px;
            margin-top: 20px;
            border: 1px solid var(--border-color);
            box-shadow: var(--shadow);
            animation: fadeIn 0.5s ease forwards;
        }
        .card-title {
            font-size: 18px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
            color: var(--text-primary);
        }
        .card-title i { color: var(--primary-accent); }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }

        /* ‚è±Ô∏è --- Countdown Section --- ‚è±Ô∏è */
        .countdown-card {
            background: var(--primary-gradient);
            color: white;
            text-align: center;
        }
        #next-exam-subject {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 12px;
        }
        .timer-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 16px;
        }
        .timer-unit {
            text-align: center;
        }
        .timer-unit span {
            font-size: 36px;
            font-weight: 800;
        }
        .timer-unit p {
            font-size: 12px;
            opacity: 0.8;
            text-transform: uppercase;
        }
        #exam-status {
            font-size: 28px;
            font-weight: 700;
        }

        /* ‚ö° --- Quick Actions --- ‚ö° */
        .quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 16px;
        }
        .action-button {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            padding: 16px;
            border-radius: 12px;
            text-decoration: none;
            color: var(--text-primary);
            background-color: var(--bg-main);
            border: 1px solid var(--border-color);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            font-weight: 500;
            font-size: 14px;
            text-align: center;
        }
        .action-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(143, 0, 255, 0.1);
            border-color: var(--primary-accent);
        }
        .action-button i {
            color: var(--primary-accent);
        }

        /* üìö --- Resources Section --- üìö */
        .search-bar {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid var(--border-color);
            border-radius: 10px;
            background-color: var(--bg-main);
            color: var(--text-primary);
            font-size: 16px;
            margin-bottom: 16px;
        }
        .resource-list {
            display: grid;
            grid-template-columns: 1fr;
            gap: 12px;
        }
        .resource-item {
            display: flex;
            align-items: center;
            padding: 16px;
            background-color: var(--bg-main);
            border-radius: 12px;
            text-decoration: none;
            color: var(--text-primary);
            border: 1px solid transparent;
            transition: border-color 0.2s ease;
        }
        .resource-item:hover { border-color: var(--primary-accent); }
        .resource-item .subject-name {
            flex-grow: 1;
            font-weight: 600;
        }

        /* üìÖ --- Timetable Section --- üìÖ */
        .timetable-table {
            width: 100%;
            border-collapse: collapse;
        }
        .timetable-table th, .timetable-table td {
            text-align: left;
            padding: 12px;
            border-bottom: 1px solid var(--border-color);
        }
        .timetable-table th {
            color: var(--text-secondary);
            font-weight: 600;
            font-size: 14px;
        }
        .timetable-table td.date {
            color: var(--primary-accent);
            font-weight: 600;
        }
        
        /* ‚úÖ --- Checklist Section --- ‚úÖ */
        .checklist { list-style: none; }
        .checklist li {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 10px 0;
            font-size: 16px;
        }
        .checklist li::before {
            content: '‚òê';
            font-size: 24px;
            color: var(--primary-accent);
        }
        
        /* Footer */
        footer { text-align: center; padding: 30px 16px; font-size: 14px; color: var(--text-secondary); }
    </style>
</head>
<body data-theme="dark">

    <header class="top-bar">
        <h1>BAFs Exam Time</h1>
        <button id="theme-toggle" class="theme-toggle" aria-label="Toggle theme">
            </button>
    </header>

    <main class="container">
        <section class="card countdown-card">
            <h2 id="next-exam-subject">Loading next exam...</h2>
            <div id="timer-container" class="timer-container">
                <div class="timer-unit"><span id="days">00</span><p>Days</p></div>
                <div class="timer-unit"><span id="hours">00</span><p>Hours</p></div>
                <div class="timer-unit"><span id="minutes">00</span><p>Mins</p></div>
                <div class="timer-unit"><span id="seconds">00</span><p>Secs</p></div>
            </div>
            <div id="exam-status" style="display: none;"></div>
        </section>

        <section class="card">
            <h2 class="card-title"><i data-lucide="zap"></i> Quick Actions</h2>
            <div class="quick-actions">
                <a href="#resources" class="action-button">
                    <i data-lucide="book-marked"></i>
                    <span>Resources</span>
                </a>
                <a href="#timetable" class="action-button">
                    <i data-lucide="calendar-days"></i>
                    <span>Timetable</span>
                </a>
                 <a href="#" class="action-button">
                    <i data-lucide="file-text"></i>
                    <span>Syllabus</span>
                </a>
                 <a href="#" class="action-button">
                    <i data-lucide="moon"></i>
                    <span>Focus Mode</span>
                </a>
            </div>
        </section>

        <section id="resources" class="card">
            <h2 class="card-title"><i data-lucide="library"></i> Study Resources</h2>
            <input type="text" id="search-input" class="search-bar" placeholder="Search for a subject...">
            <div id="resource-list" class="resource-list">
                </div>
        </section>

        <section id="timetable" class="card">
             <h2 class="card-title"><i data-lucide="calendar-check-2"></i> Exam Timetable</h2>
             <div style="overflow-x:auto;">
                 <table class="timetable-table">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Subject</th>
                        </tr>
                    </thead>
                    <tbody id="timetable-body">
                        </tbody>
                 </table>
             </div>
        </section>

        <section class="card">
            <h2 class="card-title"><i data-lucide="check-square"></i> Exam Day Checklist</h2>
            <ul class="checklist">
                <li>Hall Ticket / Admit Card</li>
                <li>College ID Card</li>
                <li>Pens, Pencils, & Eraser</li>
                <li>Water Bottle</li>
                <li>Watch</li>
            </ul>
        </section>
    </main>
    
    <footer>
        <p>All the best for your exams!</p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/lucide/dist/umd/lucide.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // --- DATA (Updated for BAF) ---
            const exams = [
                { date: '2025-10-06', subject: '‡§≤‡•á‡§ñ‡§® ‡§ï‡•å‡§∂‡§≤‡•ç‡§Ø‡•á ‡•® (AEC)', time: '18:00:00' },
                { date: '2025-10-07', subject: 'Introduction to Sports Training & Tests and Measurement (CC)' },
                { date: '2025-10-08', subject: 'Big Data Analytics (OE)' },
                { date: '2025-10-09', subject: 'Basics of Service Sector (Minor)', time: '18:00:00' },
                { date: '2025-10-10', subject: 'Mutual Fund Distributor - I (VSEC)' },
                { date: '2025-10-11', subject: 'Financial Accounting ‚Äì III (Major)', time: '18:00:00' },
                { date: '2025-10-13', subject: 'Cost Accounting ‚Äì I (Major)', time: '18:00:00' }
            ];

            const resources = [
                { subject: '‡§≤‡•á‡§ñ‡§® ‡§ï‡•å‡§∂‡§≤‡•ç‡§Ø‡•á ‡•® (AEC)', link: '#' },
                { subject: 'Introduction to Sports Training & Tests and Measurement (CC)', link: '#' },
                { subject: 'Big Data Analytics (OE)', link: '#' },
                { subject: 'Basics of Service Sector (Minor)', link: '#' },
                { subject: 'Mutual Fund Distributor - I (VSEC)', link: '#' },
                { subject: 'Financial Accounting ‚Äì III (Major)', link: '#' },
                { subject: 'Cost Accounting ‚Äì I (Major)', link: '#' }
            ];

            // --- THEME SWITCHER ---
            const themeToggle = document.getElementById('theme-toggle');
            const sunIcon = '<i data-lucide="sun"_></i>';
            const moonIcon = '<i data-lucide="moon"></i>';
            
            function applyTheme(theme) {
                document.documentElement.setAttribute('data-theme', theme);
                themeToggle.innerHTML = theme === 'dark' ? sunIcon : moonIcon;
                localStorage.setItem('theme', theme);
                lucide.createIcons();
            }

            themeToggle.addEventListener('click', () => {
                const currentTheme = localStorage.getItem('theme') || 'dark';
                const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
                applyTheme(newTheme);
            });
            
            applyTheme(localStorage.getItem('theme') || 'dark');


            // --- COUNTDOWN TIMER ---
            const daysEl = document.getElementById('days');
            const hoursEl = document.getElementById('hours');
            const minutesEl = document.getElementById('minutes');
            const secondsEl = document.getElementById('seconds');
            const nextExamSubjectEl = document.getElementById('next-exam-subject');
            const timerContainer = document.getElementById('timer-container');
            const examStatusEl = document.getElementById('exam-status');
            
            function getNextExam() {
                const now = new Date();
                for (const exam of exams) {
                    const examTime = exam.time || '10:00:00'; // Default to 10 AM if no time specified
                    const examDate = new Date(`${exam.date}T${examTime}`);
                    
                    if (now < examDate) {
                        return { ...exam, dateObj: examDate };
                    }
                    if (now >= examDate && now < new Date(examDate.getTime() + 3 * 60 * 60 * 1000)) {
                        return { ...exam, inProgress: true };
                    }
                }
                return null; // No more exams
            }

            function updateTimer() {
                const nextExam = getNextExam();

                if (!nextExam) {
                    timerContainer.style.display = 'none';
                    examStatusEl.style.display = 'block';
                    examStatusEl.textContent = 'Exams are over!';
                    nextExamSubjectEl.textContent = 'Congratulations!';
                    return;
                }

                if (nextExam.inProgress) {
                    timerContainer.style.display = 'none';
                    examStatusEl.style.display = 'block';
                    examStatusEl.textContent = 'Exam in progress';
                    nextExamSubjectEl.textContent = nextExam.subject;
                    return;
                }
                
                timerContainer.style.display = 'flex';
                examStatusEl.style.display = 'none';
                nextExamSubjectEl.textContent = `Next Exam: ${nextExam.subject}`;

                const distance = nextExam.dateObj - new Date().getTime();
                
                daysEl.textContent = String(Math.floor(distance / (1000 * 60 * 60 * 24))).padStart(2, '0');
                hoursEl.textContent = String(Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60))).padStart(2, '0');
                minutesEl.textContent = String(Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60))).padStart(2, '0');
                secondsEl.textContent = String(Math.floor((distance % (1000 * 60)) / 1000)).padStart(2, '0');
            }
            
            setInterval(updateTimer, 1000);
            updateTimer();


            // --- DYNAMIC CONTENT RENDERING ---
            const resourceList = document.getElementById('resource-list');
            const timetableBody = document.getElementById('timetable-body');

            function renderResources() {
                resourceList.innerHTML = resources.sort((a,b) => a.subject.localeCompare(b.subject)).map(res => `
                    <a href="${res.link}" target="_blank" class="resource-item" data-subject="${res.subject.toLowerCase()}">
                        <i data-lucide="book-open" class="icon" style="margin-right: 16px;"></i>
                        <span class="subject-name">${res.subject}</span>
                        <i data-lucide="arrow-right" class="icon"></i>
                    </a>
                `).join('');
            }

            function renderTimetable() {
                timetableBody.innerHTML = exams.map(exam => {
                    const date = new Date(`${exam.date}T00:00:00`);
                    const formattedDate = date.toLocaleDateString('en-GB', { weekday: 'long', day: 'numeric', month: 'long', year: 'numeric' });
                    return `
                        <tr>
                            <td class="date">${formattedDate}</td>
                            <td>${exam.subject} ${exam.time ? `(${exam.time.substring(0,5)})` : ''}</td>
                        </tr>
                    `;
                }).join('');
            }
            
            renderResources();
            renderTimetable();


            // --- SEARCH FUNCTIONALITY ---
            const searchInput = document.getElementById('search-input');
            searchInput.addEventListener('keyup', () => {
                const searchTerm = searchInput.value.toLowerCase();
                const items = resourceList.querySelectorAll('.resource-item');
                items.forEach(item => {
                    const subject = item.dataset.subject;
                    if (subject.includes(searchTerm)) {
                        item.style.display = 'flex';
                    } else {
                        item.style.display = 'none';
                    }
                });
            });

            // --- INITIALIZE ICONS ---
            lucide.createIcons();
        });
    </script>
</body>
</html>
