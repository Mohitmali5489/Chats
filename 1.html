<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"/>
    <title>Exam Central - BirlaOne</title>
    <link rel="icon" type="image/png" href="https://fuovcuzaxfkyqrridrgy.supabase.co/storage/v1/object/public/profile-pics//study-icon-modified.png" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    
    <script>
      // Prevents a "flash of the wrong theme" on page load.
      (function() {
        const savedTheme = localStorage.getItem('theme') || 'dark'; // Default to dark
        document.documentElement.setAttribute('data-theme', savedTheme);
      })();
    </script>

    <style>
      /* üé® --- Color & Theme Variables --- üé® */
      :root {
        --primary-accent: #b84fff;
        --primary-gradient: linear-gradient(135deg, #b84fff, #8f00ff);
        --font-family: 'Inter', sans-serif;
        
        --bg-gradient-light: linear-gradient(180deg, #f5f5f7, #e9e9ed);
        --card-bg-light: #ffffff;
        --text-primary-light: #121212;
        --text-secondary-light: #5f5f5f;
        --border-color-light: #e0e0e0;
        --shadow-light: 0 4px 20px rgba(0, 0, 0, 0.06);
        --header-bg-light: rgba(255, 255, 255, 0.7);

        --bg-gradient-dark: linear-gradient(180deg, #1e1e2e, #14141e);
        --card-bg-dark: #2a2a3d;
        --text-primary-dark: #f0f0f0;
        --text-secondary-dark: #a0a0b0;
        --border-color-dark: #4a4a6a;
        --shadow-dark: 0 4px 20px rgba(0, 0, 0, 0.2);
        --header-bg-dark: rgba(30, 30, 46, 0.7);
      }
      
      [data-theme="light"] {
        --bg-gradient: var(--bg-gradient-light);
        --card-bg: var(--card-bg-light);
        --text-primary: var(--text-primary-light);
        --text-secondary: var(--text-secondary-light);
        --border-color: var(--border-color-light);
        --shadow: var(--shadow-light);
        --header-bg: var(--header-bg-light);
        --timetable-row-bg: #f7f7f9;
        --secondary-button-bg-hover: #f0e6ff;
      }

      [data-theme="dark"] {
        --bg-gradient: var(--bg-gradient-dark);
        --card-bg: var(--card-bg-dark);
        --text-primary: var(--text-primary-dark);
        --text-secondary: var(--text-secondary-dark);
        --border-color: var(--border-color-dark);
        --shadow: var(--shadow-dark);
        --header-bg: var(--header-bg-dark);
        --timetable-row-bg: #3a3a50;
        --secondary-button-bg-hover: #3c3c52;
      }

      /* üß± --- Base & Layout Styles --- üß± */
      * { box-sizing: border-box; margin: 0; padding: 0; }
      html { scroll-behavior: smooth; }
      body {
        font-family: var(--font-family);
        background: var(--bg-gradient);
        color: var(--text-primary);
        line-height: 1.6;
      }
      .page-container { max-width: 1200px; margin: 0 auto; padding: 20px; }

      /* üîù --- Header --- üîù */
      .top-bar {
        display: flex; justify-content: space-between; align-items: center;
        padding: 12px 16px; background: var(--header-bg);
        backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
        border-bottom: 1px solid var(--border-color);
        position: sticky; top: 0; z-index: 1000;
      }
      .header-left { display: flex; align-items: center; gap: 12px; }
      .header-button {
        background: none; border: none; cursor: pointer; color: var(--text-primary);
        display: flex; align-items: center; justify-content: center;
        width: 40px; height: 40px; flex-shrink: 0;
      }
      .header-button svg, .header-button i { font-size: 22px; }
      .header-title { font-weight: 600; font-size: 18px; }
      
      /* ‚è≥ --- Countdown & Timetable --- ‚è≥ */
      .main-card {
        background-color: var(--card-bg);
        border: 1px solid var(--border-color);
        border-radius: 16px; padding: 25px;
        margin-bottom: 30px; box-shadow: var(--shadow);
      }
      .section-header {
        display: flex; align-items: center; font-size: 1.4rem; font-weight: 600;
        margin-bottom: 20px; color: var(--text-primary);
      }
      .section-header i { margin-right: 12px; color: var(--primary-accent); }
      
      #countdown-container { text-align: center; margin-bottom: 25px; padding-bottom: 25px; border-bottom: 1px solid var(--border-color); }
      #next-exam-title { font-size: 1rem; font-weight: 400; color: var(--text-secondary); margin-bottom: 5px; }
      #next-exam-subject { font-size: 1.2rem; font-weight: 600; color: var(--primary-accent); margin-bottom: 15px; }
      #countdown-timer { display: flex; justify-content: center; gap: 15px; }
      .countdown-block { text-align: center; }
      .countdown-block span { display: block; font-size: 2.5rem; font-weight: 700; color: var(--text-primary); }
      .countdown-block .label { font-size: 0.8rem; text-transform: uppercase; color: var(--text-secondary); }
      
      .timetable-list { display: flex; flex-direction: column; gap: 12px; }
      .timetable-row {
        display: flex; flex-direction: column; gap: 5px; padding: 15px;
        border-radius: 12px; background-color: var(--timetable-row-bg);
        border: 1px solid var(--border-color);
      }
      .timetable-date { font-weight: 600; color: var(--primary-accent); font-size: 1rem; }
      .timetable-subject { font-weight: 500; color: var(--text-primary); font-size: 0.95rem; }

      /* üìö --- Resources Section --- üìö */
      .resources-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
      .section-title { font-size: 1.6rem; color: var(--text-primary); }
      .search-container { position: relative; width: 100%; max-width: 300px; }
      #search-bar { width: 100%; padding: 10px 15px 10px 40px; border-radius: 10px; border: 1px solid var(--border-color); font-size: 0.95rem; background-color: var(--card-bg); color: var(--text-primary); font-family: var(--font-family); }
      #search-bar:focus { outline: none; border-color: var(--primary-accent); }
      .search-icon { position: absolute; left: 12px; top: 50%; transform: translateY(-50%); color: var(--text-secondary); }

      .subjects-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; }
      .subject-card {
        background-color: var(--card-bg); border: 1px solid var(--border-color);
        border-radius: 16px; box-shadow: var(--shadow);
        padding: 20px; display: flex; flex-direction: column;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }
      [data-theme="dark"] .subject-card:hover { box-shadow: 0 8px 25px rgba(0,0,0,0.3); }
      [data-theme="light"] .subject-card:hover { transform: translateY(-5px); box-shadow: 0 8px 25px rgba(0,0,0,0.1); }
      
      .card-header { display: flex; align-items: flex-start; margin-bottom: 12px; gap: 15px; }
      .subject-icon { width: 45px; height: 45px; border-radius: 12px; display: flex; justify-content: center; align-items: center; flex-shrink: 0; }
      .subject-icon i { font-size: 1.4rem; }
      .title-block { display: flex; flex-direction: column; }
      .subject-title { font-size: 1.15rem; font-weight: 600; color: var(--text-primary); line-height: 1.3; }
      .tag { display: inline-block; width: fit-content; margin-top: 6px; font-size: 12px; font-weight: 600; padding: 3px 10px; border-radius: 12px; background-color: rgba(128, 128, 128, 0.1); color: var(--text-secondary); border: 1px solid var(--border-color); }
      
      .subject-description { font-size: 0.9rem; color: var(--text-secondary); flex-grow: 1; margin-bottom: 20px; }
      
      /* ENHANCED: Two-button styles */
      .card-actions { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
      .action-button {
        text-align: center; padding: 10px; border-radius: 8px; text-decoration: none;
        font-weight: 600; font-size: 0.9rem; transition: all 0.2s ease;
        display: flex; align-items: center; justify-content: center; gap: 8px; border: 1px solid transparent;
      }
      .action-button.primary { background: var(--primary-gradient); color: white; }
      .action-button.primary:hover { opacity: 0.9; transform: scale(1.03); }
      .action-button.secondary { background-color: transparent; color: var(--primary-accent); border: 1px solid var(--border-color); }
      .action-button.secondary:hover { background-color: var(--secondary-button-bg-hover); border-color: var(--primary-accent); }
      
      #no-results-message { text-align: center; font-size: 1.1rem; color: var(--text-secondary); padding: 40px; }

      /* Responsive */
      @media (max-width: 768px) {
        .resources-header { flex-direction: column; align-items: flex-start; gap: 15px; }
        .search-container { max-width: 100%; }
        .countdown-block span { font-size: 2rem; }
      }
    </style>
</head>
<body>

  <div class="page-container">
    <header class="top-bar">
      <div class="header-left">
        <a href="#" class="header-button">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>
        </a>
        <h1 class="header-title">Exam Central</h1>
      </div>
      <button class="header-button" id="theme-toggle" title="Toggle theme">
        <i class="fas fa-sun" id="theme-icon"></i>
      </button>
    </header>

    <main style="padding-top: 20px;">
        <section class="main-card">
            <div id="countdown-container">
                 <h3 id="next-exam-title">Next Exam In</h3>
                 <h4 id="next-exam-subject">Loading...</h4>
                 <div id="countdown-timer">
                     <div class="countdown-block"><span id="days">00</span><div class="label">Days</div></div>
                     <div class="countdown-block"><span id="hours">00</span><div class="label">Hours</div></div>
                     <div class="countdown-block"><span id="minutes">00</span><div class="label">Mins</div></div>
                     <div class="countdown-block"><span id="seconds">00</span><div class="label">Secs</div></div>
                 </div>
            </div>

            <h2 class="section-header"><i class="fas fa-calendar-alt"></i> Exam Timetable</h2>
            <div class="timetable-list" id="timetable-list">
                </div>
        </section>
        
        <div class="resources-header">
            <h2 class="section-title">Resources</h2>
            <div class="search-container">
              <i class="fas fa-search search-icon"></i>
              <input type="text" id="search-bar" placeholder="Search resources...">
            </div>
        </div>
      
        <section class="subjects-grid">
            </section>
        <p id="no-results-message" style="display: none;">No resources found.</p>
    </main>
  </div>

<script>
document.addEventListener('DOMContentLoaded', function () {

    // --- üé® THEME SWITCHER LOGIC üé® ---
    const themeToggle = document.getElementById('theme-toggle');
    const themeIcon = document.getElementById('theme-icon');
    const docElement = document.documentElement;

    function setTheme(theme) {
        docElement.setAttribute('data-theme', theme);
        localStorage.setItem('theme', theme);
        themeIcon.className = theme === 'dark' ? 'fas fa-sun' : 'fas fa-moon';
    }
    setTheme(localStorage.getItem('theme') || 'dark');
    themeToggle.addEventListener('click', () => {
        const newTheme = docElement.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
        setTheme(newTheme);
    });
    

    // --- üìö DATA FOR TIMETABLE & RESOURCES üìö ---
    const examsData = [
        { date: '2025-10-06T18:00:00', subject: '‡§≤‡•á‡§ñ‡§® ‡§ï‡•å‡§∂‡§≤‡•ç‡§Ø‡•á ‡•® (AEC)', displayDate: 'Monday 6 Oct 2025' },
        { date: '2025-10-07T18:00:00', subject: 'Sports', displayDate: 'Tuesday 7 Oct 2025', type: 'Minor' },
        { date: '2025-10-08T18:00:00', subject: 'Big Data Analysis', displayDate: 'Wednesday 8 Oct 2025', type: 'Minor' },
        { date: '2025-10-09T18:00:00', subject: 'Basics of Service Sector', displayDate: 'Thursday 9 Oct 2025', type: 'Major' },
        { date: '2025-10-10T18:00:00', subject: 'Mutual Fund Distributor ‚Äì I', displayDate: 'Friday 10 Oct 2025', type: 'Minor' },
        { date: '2025-10-11T18:00:00', subject: 'Financial Accounting ‚Äì III', displayDate: 'Saturday 11 Oct 2025', type: 'Major' },
        { date: '2025-10-13T18:00:00', subject: 'Cost Accounting ‚Äì I', displayDate: 'Monday 13 Oct 2025', type: 'Major' }
    ];

    const resourcesData = [
        { title: 'Financial Accounting ‚Äì III', type: 'Major', icon: 'fa-calculator', color: '#f57c00', bgColor: '#fff3e0', desc: 'Core accounting principles, statements, and advanced problems.' },
        { title: 'Cost Accounting ‚Äì I', type: 'Major', icon: 'fa-file-invoice-dollar', color: '#303f9f', bgColor: '#e8eaf6', desc: 'Learn the fundamentals of cost analysis, budgeting, and control.' },
        { title: 'Basics of Service Sector', type: 'Major', icon: 'fa-briefcase', color: '#00796b', bgColor: '#e0f7fa', desc: 'Explore the industries and management of the service economy.' },
        { title: 'Mutual Fund Distributor ‚Äì I', type: 'Minor', icon: 'fa-chart-line', color: '#d81b60', bgColor: '#fce4ec', desc: 'Understand mutual funds, regulations, and advisory practices.' },
        { title: 'Big Data Analysis', type: 'Minor', icon: 'fa-database', color: '#6d4c41', bgColor: '#efebe9', desc: 'Introduction to big data tools and analytical techniques.' },
        { title: 'Field Project', type: 'Minor', icon: 'fa-map-signs', color: '#455a64', bgColor: '#eceff1', desc: 'Guidelines, report formats, and presentation resources.' },
        { title: 'Marathi', type: 'Minor', icon: 'fa-feather-alt', color: '#c2185b', bgColor: '#fce4ec', desc: 'Resources for language skills and literature.' },
        { title: 'Sports', type: 'Minor', icon: 'fa-futbol', color: '#2e7d32', bgColor: '#e8f5e9', desc: 'Materials related to sports training and tests measurement.' }
    ];


    // --- ‚è≥ FUNCTIONALITY: TIMETABLE & COUNTDOWN ‚è≥ ---
    const timetableList = document.getElementById('timetable-list');
    examsData.forEach(exam => {
        const row = document.createElement('div');
        row.className = 'timetable-row';
        row.innerHTML = `<div class="timetable-date">${exam.displayDate}</div><div class="timetable-subject">${exam.subject}</div>`;
        timetableList.appendChild(row);
    });

    const daysEl = document.getElementById('days'), hoursEl = document.getElementById('hours'), minutesEl = document.getElementById('minutes'), secondsEl = document.getElementById('seconds'), nextExamSubjectEl = document.getElementById('next-exam-subject'), countdownContainer = document.getElementById('countdown-container');
    let countdownInterval;

    function startCountdown() {
        if (countdownInterval) clearInterval(countdownInterval);
        const nextExam = examsData.find(exam => new Date(exam.date).getTime() > new Date().getTime());

        if (!nextExam) {
            countdownContainer.innerHTML = '<h3>All exams are over! Well done.</h3>';
            return;
        }

        nextExamSubjectEl.textContent = nextExam.subject;
        const nextExamDate = new Date(nextExam.date).getTime();
        countdownInterval = setInterval(() => {
            const distance = nextExamDate - new Date().getTime();
            if (distance < 0) { clearInterval(countdownInterval); startCountdown(); return; }
            daysEl.innerText = String(Math.floor(distance / 86400000)).padStart(2, '0');
            hoursEl.innerText = String(Math.floor((distance % 86400000) / 3600000)).padStart(2, '0');
            minutesEl.innerText = String(Math.floor((distance % 3600000) / 60000)).padStart(2, '0');
            secondsEl.innerText = String(Math.floor((distance % 60000) / 1000)).padStart(2, '0');
        }, 1000);
    }
    startCountdown();


    // --- üìö FUNCTIONALITY: RESOURCES & SEARCH üìö ---
    const subjectsGrid = document.querySelector('.subjects-grid');
    resourcesData.forEach(resource => {
        const card = document.createElement('div');
        card.className = 'subject-card';
        card.innerHTML = `
            <div class="card-header">
                <div class="subject-icon" style="background-color: ${resource.bgColor};">
                    <i class="fas ${resource.icon}" style="color: ${resource.color};"></i>
                </div>
                <div class="title-block">
                    <h2 class="subject-title">${resource.title}</h2>
                    <span class="tag">${resource.type}</span>
                </div>
            </div>
            <p class="subject-description">${resource.desc}</p>
            <div class="card-actions">
                <a href="#" class="action-button primary">
                    <i class="fas fa-book-open"></i> Question Bank
                </a>
                <a href="#" class="action-button secondary">
                    <i class="fas fa-file-alt"></i> Paper Pattern
                </a>
            </div>
        `;
        subjectsGrid.appendChild(card);
    });

    const searchBar = document.getElementById('search-bar');
    const noResultsMessage = document.getElementById('no-results-message');
    searchBar.addEventListener('input', (e) => {
        const searchTerm = e.target.value.toLowerCase();
        let visibleCards = 0;
        document.querySelectorAll('.subject-card').forEach(card => {
            const title = card.querySelector('.subject-title').textContent.toLowerCase();
            const shouldShow = title.includes(searchTerm);
            card.style.display = shouldShow ? 'flex' : 'none';
            if (shouldShow) visibleCards++;
        });
        noResultsMessage.style.display = visibleCards === 0 ? 'block' : 'none';
    });
});
</script>
</body>
</html>
